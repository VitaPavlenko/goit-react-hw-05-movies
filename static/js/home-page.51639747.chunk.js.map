{"version":3,"file":"static/js/home-page.51639747.chunk.js","mappings":"kPAIe,SAASA,IACtB,OAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACQC,GAAQC,EAAAA,EAAAA,MAARD,IACFE,GAAWC,EAAAA,EAAAA,MAKjB,OAJAC,EAAAA,EAAAA,YAAU,WACRC,EAAAA,KAAoBC,KAAKP,KACxB,IACHQ,QAAQC,IAAIV,IAEV,iCACE,2CAECA,IACC,wBACGA,EAAMW,QAAQC,KAAI,SAAAC,GAAI,OACrB,yBACE,UAAC,KAAD,CACEC,GAAI,CACFC,SAAS,GAAD,OAAKb,EAAL,kBAAkBW,EAAKG,IAC/BC,MAAO,CAAEC,KAAMd,IAHnB,UAMGS,EAAKM,MANR,IAMgBN,EAAKO,kBAPdP,EAAKG,c,sLCnBpBK,EAAW,+BAEXC,EAAM,mCAAZ,SAEeC,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,WAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,2GAAsCrB,EAAtC,+BAA4C,GAAIsB,EAAhD,+BAAyD,GAAzD,SACyBC,MAAMvB,EAAKsB,GADpC,YACQE,EADR,QAEkBC,GAFlB,iCAGYD,EAASE,OAHrB,gDAIMC,QAAQC,OAAO,IAAIC,MAAM,cAJ/B,2GAOO,SAASC,IACd,OAAOT,EAAuB,GAAD,OACxBF,EADwB,qCACaC,EADb,2BAKxB,SAASW,EAAYC,GAC1B,OAAOX,EAAuB,GAAD,OACxBF,EADwB,iCACSC,EADT,kBACsBY,IAI9C,SAASC,EAAkBC,GAChC,OAAOb,EAAuB,GAAD,OAAIF,EAAJ,kBAAsBe,EAAtB,oBAA0Cd,IAGlE,SAASe,EAAkBD,GAChC,OAAOb,EAAuB,GAAD,OACxBF,EADwB,kBACNe,EADM,4BACsBd,IAI9C,SAASgB,EAAkBF,GAChC,OAAOb,EAAuB,GAAD,OACxBF,EADwB,kBACNe,EADM,4BACsBd","sources":["page/HomePage.js","services/api.jsx"],"sourcesContent":["import * as api from '../services/api';\nimport { useState, useEffect } from 'react';\nimport { Link, useRouteMatch, useLocation } from 'react-router-dom';\n\nexport default function HomePage() {\n  const [films, setFilms] = useState(null);\n  const { url } = useRouteMatch();\n  const location = useLocation();\n  useEffect(() => {\n    api.fetchTrending().then(setFilms);\n  }, []);\n  console.log(films);\n  return (\n    <>\n      <h2>Trending today</h2>\n\n      {films && (\n        <ul>\n          {films.results.map(film => (\n            <li key={film.id}>\n              <Link\n                to={{\n                  pathname: `${url}movies/${film.id}`,\n                  state: { from: location },\n                }}\n              >\n                {film.title} {film.original_name}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n","const BASE_URL = 'https://api.themoviedb.org/3';\n\nconst KEY = '04410cb9529346f79ec1f657731e9f8f';\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Not found'));\n}\n\nexport function fetchTrending() {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/trending/all/day?api_key=${KEY}&language=en-US&page=3`\n  );\n}\n\nexport function fetchSearch(newImput) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/search/movie?api_key=${KEY}&query=${newImput}`\n  );\n}\n\nexport function fetchMovieDetails(moviesId) {\n  return fetchWithErrorHandling(`${BASE_URL}/movie/${moviesId}?api_key=${KEY}`);\n}\n\nexport function fetchMovieCredits(moviesId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${moviesId}/credits?api_key=${KEY}`\n  );\n}\n\nexport function fetchMovieReviews(moviesId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${moviesId}/reviews?api_key=${KEY}`\n  );\n}\n"],"names":["HomePage","useState","films","setFilms","url","useRouteMatch","location","useLocation","useEffect","api","then","console","log","results","map","film","to","pathname","id","state","from","title","original_name","BASE_URL","KEY","fetchWithErrorHandling","config","fetch","response","ok","json","Promise","reject","Error","fetchTrending","fetchSearch","newImput","fetchMovieDetails","moviesId","fetchMovieCredits","fetchMovieReviews"],"sourceRoot":""}